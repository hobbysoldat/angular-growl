/**
 * angular-growl - v0.4.1 - 2014-05-24
 * https://github.com/marcorinck/angular-growl
 * Copyright (c) 2014 Marco Rinck; Licensed MIT
 */
angular.module("angular-growl",[]),angular.module("angular-growl").directive("growl",["$rootScope",function(a){"use strict";return{restrict:"A",template:'<div class="growl">	<div class="growl-item alert" ng-repeat="message in messages" ng-class="computeClasses(message)">		<button type="button" class="close" ng-click="deleteMessage(message)">&times;</button>       <div ng-switch="message.enableHtml">           <div ng-switch-when="true" ng-bind-html="message.text"></div>           <div ng-switch-default ng-bind="message.text"></div>       </div>	</div></div>',replace:!1,scope:!0,controller:["$scope","$timeout","growl",function(b,c,d){function e(a){b.messages.push(a),a.ttl&&-1!==a.ttl&&c(function(){b.deleteMessage(a)},a.ttl)}function f(a,b){return a.text===b.text&&a.severity===b.severity}var g=d.onlyUnique();b.messages=[],a.$on("growlMessage",function(a,c){var d;g?(angular.forEach(b.messages,function(a){f(a,c)&&(d=!0)}),d||e(c)):e(c)}),a.$on("growlMessageDelete",function(a,c){angular.forEach(b.messages,function(a){f(c,a)&&b.deleteMessage(a)})}),b.deleteMessage=function(a){var c=b.messages.indexOf(a);c>-1&&b.messages.splice(c,1)},b.computeClasses=function(a){return{"alert-success":"success"===a.severity,"alert-error":"error"===a.severity,"alert-danger":"error"===a.severity,"alert-info":"info"===a.severity,"alert-warning":"warn"===a.severity}}}]}}]),angular.module("angular-growl").provider("growl",function(){"use strict";var a=null,b=!1,c="messages",d="text",e="severity",f=!0;this.globalTimeToLive=function(b){a=b},this.globalEnableHtml=function(a){b=a},this.messagesKey=function(a){c=a},this.messageTextKey=function(a){d=a},this.messageSeverityKey=function(a){e=a},this.onlyUniqueMessages=function(a){f=a},this.serverMessagesInterceptor=["$q","growl",function(a,b){function d(a){a.data[c]&&a.data[c].length>0&&b.addServerMessages(a.data[c])}function e(a){return d(a),a}function f(b){return d(b),a.reject(b)}return function(a){return a.then(e,f)}}],this.$get=["$rootScope","$filter",function(c,g){function h(a){u&&(a.text=u(a.text)),c.$broadcast("growlMessage",a)}function i(c,d,e){var f,g=d||{};f={text:c,severity:e,ttl:g.ttl||a,enableHtml:g.enableHtml||b},h(f)}function j(a,b){u&&(a=u(a)),c.$broadcast("growlMessageDelete",{text:a,severity:b})}function k(a,b){i(a,b,"warn")}function l(a){j(a,"warn")}function m(a,b){i(a,b,"error")}function n(a){j(a,"error")}function o(a,b){i(a,b,"info")}function p(a){j(a,"info")}function q(a,b){i(a,b,"success")}function r(a){j(a,"success")}function s(a){var b,c,f,g;for(g=a.length,b=0;g>b;b++)if(c=a[b],c[d]&&c[e]){switch(c[e]){case"warn":f="warn";break;case"success":f="success";break;case"info":f="info";break;case"error":f="error"}i(c[d],void 0,f)}}function t(){return f}var u;try{u=g("translate")}catch(v){}return{addWarnMessage:k,addErrorMessage:m,addInfoMessage:o,addSuccessMessage:q,addServerMessages:s,deleteWarnMessage:l,deleteErrorMessage:n,deleteInfoMessage:p,deleteSuccessMessage:r,onlyUnique:t}}]});